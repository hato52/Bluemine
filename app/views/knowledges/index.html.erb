<div class="container">
  <%= link_to "新規登録", new_knowledge_path, class: "btn btn-success float-right my-auto" %>
  <h1 class="text-left my-5">ナレッジ</h1>

  <%= paginate @knowledges %>

  <div class="table-responsive">
  <table class="table table-striped table-bordered text-nowrap">
    <thead>
      <tr>
      <th scope="col">タイトル</th>
      <th scope="col">記入者</th>
      <th scope="col">最終更新日</th>
      <th scope="col">編集</th>
      <th scope="col">削除</th>
      </tr>
    </thead>
    <tbody>
    <% @knowledges.each do |knowledge| %>
      <tr>
        <td class="align-middle" scope="row">
          <%= link_to knowledge.title, knowledge_path(knowledge) %>
        </td>

        <% unless knowledge.user.nil? %>
          <td class="align-middle" scope="row"><%= knowledge.user.name %></td>
        <% else %>
          <td class="align-middle" scope="row"></td>
        <% end %>

        <td class="align-middle" scope="row"><%= knowledge.updated_at %></td>

        <td class="align-middle" scope="row">
          <%= link_to "編集", edit_knowledge_path(knowledge), class: "btn btn-success float-right my-auto" %>
        </td>
        <td class="align-middle" scope="row">
          <%= link_to "削除", knowledge_path(knowledge), method: :delete, data: {confirm: "本当に削除しますか？"}, class: "btn btn-danger float-right my-auto" %>
        </td>
      </tr>
    <% end %>  
    </tbody>
  </table>
  <%= paginate @knowledges %>
</div>