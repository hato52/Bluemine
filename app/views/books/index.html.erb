<div class="container">
  <%= link_to "新規登録", new_book_path, class: "btn btn-success float-right my-auto" %>
  <h1 class="text-left my-5">ブック</h1>

  <%= paginate @books %>

  <div class="table-responsive">
  <table class="table table-striped table-bordered text-nowrap">
    <thead>
      <tr>
      <th scope="col">タイトル</th>
      <th scope="col">記入者</th>
      <th scope="col">最終更新日</th>
      <th scope="col">編集</th>
      <th scope="col">削除</th>
      </tr>
    </thead>
    <tbody>
    <% @books.each do |book| %>
      <tr>
        <td class="align-middle" scope="row">
          <%= link_to book.title, book_path(book) %>
        </td>

        <% unless book.user.nil? %>
          <td class="align-middle" scope="row"><%= book.user.name %></td>
        <% else %>
          <td class="align-middle" scope="row"></td>
        <% end %>

        <td class="align-middle" scope="row"><%= book.updated_at %></td>

        <td class="align-middle" scope="row">
          <%= link_to "編集", edit_book_path(book), class: "btn btn-success float-right my-auto" %>
        </td>
        <td class="align-middle" scope="row">
          <%= link_to "削除", book_path(book), method: :delete, data: {confirm: "本当に削除しますか？"}, class: "btn btn-danger float-right my-auto" %>
        </td>
      </tr>
    <% end %>  
    </tbody>
  </table>
  <%= paginate @books %>
</div>